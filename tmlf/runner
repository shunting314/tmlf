protoc tmlf/proto/tmlf.proto --python_out=./tmlf/gen

LD_FLAGS="-lglog"

# EXTRA_LD_FLAGS="-Wl,-undefined,dynamic_lookup"
g++ -O2 -shared -fPIC -std=c++11 `python3.6 -m pybind11 --includes` tmlf/python/tmlf_pybind.cc -o tmlf/python/tmlf_pybind`python3.6-config --extension-suffix` $LD_FLAGS `python3.6-config --ldflags` $EXTRA_LD_FLAGS

export PYTHONPATH=/Users/shunting/Documents/tmlf/gen:$PATHONPATH
python3.6 tmlf/sample/trivial.py
